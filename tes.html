<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday Ellogio üéâ</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
      font-family: 'Poppins', sans-serif;
      overflow: hidden;
    }

    /* Gift box */
    .gift-box {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 200px; height: 200px;
      background: #ff477e;
      border-radius: 20px;
      cursor: pointer;
      animation: bounce 1s infinite alternate;
      z-index: 10;
    }
    .gift-box::before, .gift-box::after {
      content: "";
      position: absolute;
      background: #fff;
    }
    .gift-box::before {
      top: 0; left: 50%;
      transform: translateX(-50%);
      width: 40px; height: 200px;
    }
    .gift-box::after {
      top: 50%; left: 0;
      width: 200px; height: 40px;
      transform: translateY(-50%);
    }
    @keyframes bounce {
      from { transform: translate(-50%, -50%) scale(1); }
      to { transform: translate(-50%, -55%) scale(1.05); }
    }

    /* Book container */
    .book {
      display: none;
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 700px; height: 400px;
      perspective: 2000px;
      z-index: 5;
    }

    .page {
      width: 50%; height: 100%;
      background: white;
      position: absolute;
      top: 0;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      transition: transform 1s;
      transform-origin: left;
    }

    .page img {
      width: 100%; height: 70%;
      object-fit: cover;
    }

    .caption {
      padding: 10px;
      text-align: center;
      font-size: 1rem;
    }

    .page:nth-child(1) { left: 0; z-index: 4; }
    .page:nth-child(2) { left: 50%; z-index: 3; }
    .page:nth-child(3) { left: 50%; z-index: 2; }
    .page:nth-child(4) { left: 50%; z-index: 1; }

    .controls {
      text-align: center;
      margin-top: 20px;
    }

    button {
      padding: 10px 20px;
      margin: 5px;
      border: none;
      border-radius: 20px;
      background: #ff477e;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover { background: #ff6f91; }

    /* Confetti */
    canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 1;
    }
  </style>
</head>
<body>
  <div class="gift-box" onclick="openGift()"></div>

  <div class="book" id="book">
    <div class="page">
      <img src="https://picsum.photos/400/300?random=1" alt="">
      <div class="caption">üéÇ Happy Birthday Ellogio!</div>
    </div>
    <div class="page">
      <img src="https://picsum.photos/400/300?random=2" alt="">
      <div class="caption">Momen indah bersama sahabat üíñ</div>
    </div>
    <div class="page">
      <img src="https://picsum.photos/400/300?random=3" alt="">
      <div class="caption">Semoga makin sukses ‚ú®</div>
    </div>
    <div class="page">
      <img src="https://picsum.photos/400/300?random=4" alt="">
      <div class="caption">Selalu sehat & bahagia üéâ</div>
    </div>

    <div class="controls">
      <button onclick="prevPage()">‚¨ÖÔ∏è Sebelumnya</button>
      <button onclick="nextPage()">‚û°Ô∏è Berikutnya</button>
    </div>
  </div>

  <canvas id="confetti"></canvas>
  <audio id="song" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>

  <script>
    const book = document.getElementById("book");
    const song = document.getElementById("song");
    let currentPage = 0;
    const pages = document.querySelectorAll(".page");

    function openGift() {
      document.querySelector(".gift-box").style.display = "none";
      book.style.display = "block";
      song.play();
      launchConfetti();
    }

    function nextPage() {
      if (currentPage < pages.length-1) {
        pages[currentPage].style.transform = "rotateY(-180deg)";
        currentPage++;
      }
    }

    function prevPage() {
      if (currentPage > 0) {
        currentPage--;
        pages[currentPage].style.transform = "rotateY(0deg)";
      }
    }

    // Confetti
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let confettis = [];

    function random(min,max){ return Math.random()*(max-min)+min; }
    function createConfetti(){
      return {
        x: random(0, canvas.width),
        y: random(-canvas.height, 0),
        size: random(5, 10),
        color: `hsl(${random(0,360)},100%,50%)`,
        speed: random(2,5),
        drift: random(-2,2),
      };
    }
    function launchConfetti(){
      confettis=[];
      for(let i=0;i<200;i++){ confettis.push(createConfetti()); }
    }
    function draw(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      confettis.forEach(c=>{
        ctx.fillStyle=c.color;
        ctx.beginPath();
        ctx.arc(c.x,c.y,c.size,0,Math.PI*2);
        ctx.fill();
        c.y+=c.speed;
        c.x+=c.drift;
        if(c.y>canvas.height)c.y=random(-20,0);
      });
      requestAnimationFrame(draw);
    }
    draw();
  </script>
</body>
</html>
